{% from "components/button.html" import secondary %}

<form id="form" hx-encoding="multipart/form-data" hx-post={{url_for("upload.index")}} class="flex">
  <input type="file" name="audio" />
  {{secondary("Upload video")}}
  <progress id="progress" value="0" max="100"></progress>
</form>
<script>
  htmx.on("#form", "htmx:xhr:progress", function (evt) {
    htmx
      .find("#progress")
      .setAttribute("value", (evt.detail.loaded / evt.detail.total) * 100);
  });
</script>
